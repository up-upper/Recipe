{"ast":null,"code":"import Footer from \"@/components/Footer\";\nimport notebook from \"@/views/manager/Notebook.vue\";\nexport default {\n  name: \"NotebookDetail\",\n  components: {\n    Footer\n  },\n  data() {\n    return {\n      id: this.$route.query.id,\n      // 菜谱ID\n      notebook: {},\n      user: JSON.parse(localStorage.getItem('xm-user') || '{}')\n    };\n  },\n  created() {\n    this.updateCount();\n  },\n  methods: {\n    updateCount() {\n      this.$request.put('/notebook/updateCount/' + this.id).then(res => {\n        this.load();\n      });\n    },\n    collect() {\n      this.$request.post('/collect/set', {\n        fid: this.id,\n        userId: this.user.id,\n        module: '笔记'\n      }).then(res => {\n        if (res.code === '200') {\n          this.$message.success('操作成功');\n          this.load();\n        } else {\n          this.$message.error(res.msg);\n        }\n      });\n    },\n    load() {\n      this.$request.get('/notebook/selectById/' + this.id).then(res => {\n        this.notebook = res.data || {};\n      });\n    }\n  }\n};","map":{"version":3,"names":["Footer","notebook","name","components","data","id","$route","query","user","JSON","parse","localStorage","getItem","created","updateCount","methods","$request","put","then","res","load","collect","post","fid","userId","module","code","$message","success","error","msg","get"],"sources":["src/views/front/NotebookDetail.vue"],"sourcesContent":["<template>\r\n  <div class=\"main-content\" style=\"width: 50%\">\r\n    <img :src=\"notebook.cover\" alt=\"\" style=\"width: 100%; border-radius: 5px\">\r\n    <div style=\"margin: 20px 0; font-size: 22px; font-weight: bold\">{{ notebook.name }}</div>\r\n    <div style=\"display: flex; margin-bottom: 30px\">\r\n      <div style=\"display: flex; align-items: center; flex: 1\">\r\n        <img :src=\"notebook.avatar\" alt=\"\" style=\"width: 30px; height: 30px; border-radius: 50%\">\r\n        <span style=\"margin-left: 5px\">{{ notebook.userName }}</span>\r\n      </div>\r\n      <div style=\"flex: 1; display: flex; align-items: center; justify-content: flex-end\">\r\n        <span style=\"font-size: 20px; color: orange; font-weight: bold; margin-right: 2px\">{{ notebook.count }}</span> 浏览\r\n        <span style=\"font-size: 20px; color: orange; font-weight: bold; margin-right: 2px; margin-left: 30px\">{{ notebook.collectCount }}</span> 收藏\r\n\r\n        <el-button icon=\"el-icon-star-on\" style=\"margin-left: 30px; color: orange\" v-if=\"notebook.userCollect\" @click=\"collect\">已收藏</el-button>\r\n        <el-button icon=\"el-icon-star-off\" style=\"margin-left: 30px\" v-else @click=\"collect\">收藏</el-button>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"w-e-text\" style=\"line-height: 24px; margin-bottom: 30px\">\r\n      <div v-html=\"notebook.content\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Footer from \"@/components/Footer\";\r\nimport notebook from \"@/views/manager/Notebook.vue\";\r\nexport default {\r\n  name: \"NotebookDetail\",\r\n  components: {Footer},\r\n  data() {\r\n    return {\r\n      id: this.$route.query.id,  // 菜谱ID\r\n      notebook: {},\r\n      user: JSON.parse(localStorage.getItem('xm-user') || '{}'),\r\n\r\n    }\r\n  },\r\n  created() {\r\n    this.updateCount()\r\n  },\r\n  methods: {\r\n    updateCount() {\r\n      this.$request.put('/notebook/updateCount/' + this.id).then(res => {\r\n        this.load()\r\n      })\r\n    },\r\n    collect() {\r\n      this.$request.post('/collect/set', { fid: this.id, userId: this.user.id, module: '笔记' }).then(res => {\r\n        if (res.code === '200') {\r\n          this.$message.success('操作成功')\r\n          this.load()\r\n        } else {\r\n          this.$message.error(res.msg)\r\n        }\r\n      })\r\n    },\r\n    load() {\r\n      this.$request.get('/notebook/selectById/' + this.id).then(res => {\r\n        this.notebook = res.data || {}\r\n      })\r\n    }\r\n  }\r\n\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"mappings":"AAyBA,OAAAA,MAAA;AACA,OAAAC,QAAA;AACA;EACAC,IAAA;EACAC,UAAA;IAAAH;EAAA;EACAI,KAAA;IACA;MACAC,EAAA,OAAAC,MAAA,CAAAC,KAAA,CAAAF,EAAA;MAAA;MACAJ,QAAA;MACAO,IAAA,EAAAC,IAAA,CAAAC,KAAA,CAAAC,YAAA,CAAAC,OAAA;IAEA;EACA;EACAC,QAAA;IACA,KAAAC,WAAA;EACA;EACAC,OAAA;IACAD,YAAA;MACA,KAAAE,QAAA,CAAAC,GAAA,iCAAAZ,EAAA,EAAAa,IAAA,CAAAC,GAAA;QACA,KAAAC,IAAA;MACA;IACA;IACAC,QAAA;MACA,KAAAL,QAAA,CAAAM,IAAA;QAAAC,GAAA,OAAAlB,EAAA;QAAAmB,MAAA,OAAAhB,IAAA,CAAAH,EAAA;QAAAoB,MAAA;MAAA,GAAAP,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAO,IAAA;UACA,KAAAC,QAAA,CAAAC,OAAA;UACA,KAAAR,IAAA;QACA;UACA,KAAAO,QAAA,CAAAE,KAAA,CAAAV,GAAA,CAAAW,GAAA;QACA;MACA;IACA;IACAV,KAAA;MACA,KAAAJ,QAAA,CAAAe,GAAA,gCAAA1B,EAAA,EAAAa,IAAA,CAAAC,GAAA;QACA,KAAAlB,QAAA,GAAAkB,GAAA,CAAAf,IAAA;MACA;IACA;EACA;AAGA"},"metadata":{},"sourceType":"module","externalDependencies":[]}