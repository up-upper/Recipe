{"ast":null,"code":"import Footer from \"@/components/Footer\";\nimport Comment from \"@/components/Comment\";\nexport default {\n  name: \"NotebookDetail\",\n  components: {\n    Footer,\n    Comment\n  },\n  data() {\n    return {\n      id: this.$route.query.id,\n      // 笔记ID\n      notebook: {},\n      user: JSON.parse(localStorage.getItem('xm-user') || '{}')\n    };\n  },\n  created() {\n    this.updateCount();\n  },\n  methods: {\n    like() {\n      // 点赞\n      this.$request.post('/likes/set', {\n        fid: this.id,\n        userId: this.user.id,\n        module: '笔记'\n      }).then(res => {\n        if (res.code === '200') {\n          this.$message.success('操作成功');\n          this.load();\n        } else {\n          this.$message.error(res.msg);\n        }\n      });\n    },\n    collect() {\n      this.$request.post('/collect/set', {\n        fid: this.id,\n        userId: this.user.id,\n        module: '笔记'\n      }).then(res => {\n        if (res.code === '200') {\n          this.$message.success('操作成功');\n          this.load();\n        } else {\n          this.$message.error(res.msg);\n        }\n      });\n    },\n    updateCount() {\n      this.$request.put('/notebook/updateCount/' + this.id).then(res => {\n        this.load();\n      });\n    },\n    load() {\n      this.$request.get('/notebook/selectById/' + this.id).then(res => {\n        this.notebook = res.data || {};\n      });\n    }\n  }\n};","map":{"version":3,"names":["Footer","Comment","name","components","data","id","$route","query","notebook","user","JSON","parse","localStorage","getItem","created","updateCount","methods","like","$request","post","fid","userId","module","then","res","code","$message","success","load","error","msg","collect","put","get"],"sources":["src/views/front/NotebookDetail.vue"],"sourcesContent":["<template>\r\n  <div class=\"main-content\" style=\"width: 50%\">\r\n    <img :src=\"notebook.cover\" alt=\"\" style=\"width: 100%; border-radius: 5px\">\r\n    <div style=\"margin: 20px 0; font-size: 22px; font-weight: bold\">{{ notebook.name }}</div>\r\n    <div style=\"display: flex; margin-bottom: 30px\">\r\n      <div style=\"display: flex; align-items: center;\">\r\n        <img :src=\"notebook.avatar\" alt=\"\" style=\"width: 30px; height: 30px; border-radius: 50%\">\r\n        <span style=\"margin-left: 5px\">{{ notebook.userName }}</span>\r\n      </div>\r\n      <div style=\"flex: 1; display: flex; align-items: center; justify-content: flex-end\">\r\n        <span style=\"font-size: 20px; color: orange; font-weight: bold; margin-right: 2px\">{{ notebook.count }}</span> 浏览\r\n        <span style=\"font-size: 20px; color: orange; font-weight: bold; margin-right: 2px; margin-left: 30px\">{{ notebook.collectCount }}</span> 收藏\r\n        <span style=\"font-size: 20px; color: orangered; font-weight: bold; margin-right: 2px; margin-left: 30px\">{{ notebook.likesCount }}</span> 点赞\r\n\r\n        <el-button icon=\"el-icon-like\" style=\"margin-left: 30px; color: orange\" v-if=\"notebook.userLike\" @click=\"like\">已点赞</el-button>\r\n        <el-button icon=\"el-icon-unlike\" style=\"margin-left: 30px\" v-else @click=\"like\">点赞</el-button>\r\n\r\n        <el-button icon=\"el-icon-star-on\" style=\"margin-left: 10px; color: orange\" v-if=\"notebook.userCollect\" @click=\"collect\">已收藏</el-button>\r\n        <el-button icon=\"el-icon-star-off\" style=\"margin-left: 10px\" v-else @click=\"collect\">收藏</el-button>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"w-e-text\" style=\"line-height: 24px; margin-bottom: 30px\">\r\n      <div v-html=\"notebook.content\"></div>\r\n    </div>\r\n    <div style=\"margin-bottom: 30px; font-size: 13px; color: #666\">创建时间: {{  notebook.date }}</div>\r\n\r\n    <div style=\"margin: 50px 0\">\r\n      <Comment :fid=\"id\" module=\"笔记\" />\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Footer from \"@/components/Footer\";\r\nimport Comment from \"@/components/Comment\";\r\nexport default {\r\n  name: \"NotebookDetail\",\r\n  components: {Footer, Comment},\r\n  data() {\r\n    return {\r\n      id: this.$route.query.id,  // 笔记ID\r\n      notebook: {},\r\n      user: JSON.parse(localStorage.getItem('xm-user') || '{}'),\r\n    }\r\n  },\r\n  created() {\r\n    this.updateCount()\r\n  },\r\n  methods: {\r\n    like() {  // 点赞\r\n      this.$request.post('/likes/set', { fid: this.id, userId: this.user.id, module: '笔记' }).then(res => {\r\n        if (res.code === '200') {\r\n          this.$message.success('操作成功')\r\n          this.load()\r\n        } else {\r\n          this.$message.error(res.msg)\r\n        }\r\n      })\r\n    },\r\n    collect() {\r\n      this.$request.post('/collect/set', { fid: this.id, userId: this.user.id, module: '笔记' }).then(res => {\r\n        if (res.code === '200') {\r\n          this.$message.success('操作成功')\r\n          this.load()\r\n        } else {\r\n          this.$message.error(res.msg)\r\n        }\r\n      })\r\n    },\r\n    updateCount() {\r\n      this.$request.put('/notebook/updateCount/' + this.id).then(res => {\r\n        this.load()\r\n      })\r\n    },\r\n    load() {\r\n      this.$request.get('/notebook/selectById/' + this.id).then(res => {\r\n        this.notebook = res.data || {}\r\n      })\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"mappings":"AAmCA,OAAAA,MAAA;AACA,OAAAC,OAAA;AACA;EACAC,IAAA;EACAC,UAAA;IAAAH,MAAA;IAAAC;EAAA;EACAG,KAAA;IACA;MACAC,EAAA,OAAAC,MAAA,CAAAC,KAAA,CAAAF,EAAA;MAAA;MACAG,QAAA;MACAC,IAAA,EAAAC,IAAA,CAAAC,KAAA,CAAAC,YAAA,CAAAC,OAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,WAAA;EACA;EACAC,OAAA;IACAC,KAAA;MAAA;MACA,KAAAC,QAAA,CAAAC,IAAA;QAAAC,GAAA,OAAAf,EAAA;QAAAgB,MAAA,OAAAZ,IAAA,CAAAJ,EAAA;QAAAiB,MAAA;MAAA,GAAAC,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAC,QAAA,CAAAC,OAAA;UACA,KAAAC,IAAA;QACA;UACA,KAAAF,QAAA,CAAAG,KAAA,CAAAL,GAAA,CAAAM,GAAA;QACA;MACA;IACA;IACAC,QAAA;MACA,KAAAb,QAAA,CAAAC,IAAA;QAAAC,GAAA,OAAAf,EAAA;QAAAgB,MAAA,OAAAZ,IAAA,CAAAJ,EAAA;QAAAiB,MAAA;MAAA,GAAAC,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAC,QAAA,CAAAC,OAAA;UACA,KAAAC,IAAA;QACA;UACA,KAAAF,QAAA,CAAAG,KAAA,CAAAL,GAAA,CAAAM,GAAA;QACA;MACA;IACA;IACAf,YAAA;MACA,KAAAG,QAAA,CAAAc,GAAA,iCAAA3B,EAAA,EAAAkB,IAAA,CAAAC,GAAA;QACA,KAAAI,IAAA;MACA;IACA;IACAA,KAAA;MACA,KAAAV,QAAA,CAAAe,GAAA,gCAAA5B,EAAA,EAAAkB,IAAA,CAAAC,GAAA;QACA,KAAAhB,QAAA,GAAAgB,GAAA,CAAApB,IAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}